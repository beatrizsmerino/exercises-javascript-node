<!DOCTYPE html>
<html lang="en" id="page" class="page">

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title>Rounting and templates</title>
		<script src="https://unpkg.com/page/page.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
		<link
			href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i&display=swap"
			rel="stylesheet">
		<link rel="stylesheet" href="css/styles.css">
	</head>

	<body class="page__body">
		<header class="page__header">
			<nav>
				<ul>
					<li>
						<a href="/">
							Home
						</a>
					</li>
					<li>
						<a href="/stations">
							Stations
						</a>
					</li>
					<li>
						<a href="/fgfgfgfg">
							Error404
						</a>
					</li>
				</ul>
			</nav>
		</header>

		<main id="pageMain" class="page__main">
			<h1 id="pageTitle" class="page__title"></h1>
			<div id="app"></div>
		</main>

		<footer class="page__footer">
			Copyright 2020
		</footer>


		<!-- TEMPLATES HANDLEBARS - start -->
		<script id="home" type="text/x-handlebars-template">
			<section class="page__section">
				<article class="page__article">
					<h2 class="page__subtitle">
						<span class="page__subtitle--1">
							Rounting and template
						</span>
						<span class="page__subtitle--2">
							made with <a href="{{{urlPagejs}}}" target="_blank">page.js</a> and <a href="{{{urlHandlebars}}}" target="_blank">Handelbars</a> libraries
						</span>
						<span class="page__subtitle--3">
							Exercise with the API <a href="{{{urlAPI}}}" target="_blank">aireMad</a>
						</span>
					</h2>
				</article>
			</section>
		</script>

		<script id="stations" type="text/x-handlebars-template">
			<section class="page__section">
				<article class="page__article">
					<h2 class="page__subtitle">List of stations</h2>
					<p class="station-total">Total: {{station.length}}</p>
					
					<div class="stations-list">
						<ul>
							{{#each station}}
							<li class="station" data-index="{{@index}}">
								<a class="button station__button" data-id="{{{id}}}" href="/stations/{{id}}">
									{{nombre_estacion}}
								</a>
							</li>
							{{/each}}
						</ul>
					</div>
				</article>
			</section>
		</script>

		<script id="station" type="text/x-handlebars-template">
			<section class="page__section">
				<article class="page__article">
					<h2 class="page__subtitle">
						{{station.nombre_estacion}}
					</h2>
					<div class="station-info">
						<span class="station-info__number">
							#{{station.numero_estacion}}
						</span>
						
						<p>
							<strong>Address:</strong> {{station.direccion}}
						</p>
						<p>
							<strong>Altitude:</strong> {{station.altitud}}
						</p>
						<p>
							<strong>Latitude:</strong> {{station.latitud}}
						</p>
						<p>
							<strong>Logitude:</strong> {{station.longitud}}
						</p>

						<div class="station-info__group">
							<h3>
								<strong>Weather:</strong>
							</h3>
							{{#if weather}}
								<ul>
									{{#each weather.list}}
										<li>
											<!--
												<img src="http://openweathermap.org/img/w/{{weather[0].icon}}.png" alt="{{weather[0].main}}">
											-->
											<time>
												<em>
													{{dt_txt}}
												</em>
											</time>
											<p>Temperature: {{main.temp}}</p>
											<p>Max Temperature: {{main.temp_min}}</p>
											<p>Min Temperature: {{main.temp_max}}</p>
											<p>Pressure: {{main.pressure}}</p>
											<p>Humedity: {{main.humidity}}</p>
										</li>
									{{/each}}
								</ul>
							{{else}}
								<p>
									No information available
								</p>
							{{/if}}
						</div>

						<div class="station-info__group">
							<h3>
								<strong>
									Polen:
								</strong>
							</h3>
							{{#if pollen}}
								<h4>
									Mediciones:
								</h4>
								<ul>
									{{#each pollen.mediciones}}
									<li>
										<p>{{@key}}: {{valor}} ({{resumen}})</p>
										<time>
											<em>
												{{fecha}}
											</em>
										</time>
									</li>
									{{/each}}
								</ul>

								<br>

								<h4>
									Parametros:
								</h4>
								<ul>
									{{#each pollen.parametros}}
									<li>
										<strong>
											{{@key}}:
										</strong>
										<p>
											Medio: {{medio}}
										</p>
										<p>
											Alto: {{alto}}
										</p>
										<p>
											Muy alto: {{muy_alto}}
										</p>
									</li>
									{{/each}}
								</ul>
							{{else}}
							<p>
								No information available
							</p>
							{{/if}}
						</div>

						<div class="station-info__group">
							<h3>
								<strong>
									Pollution:
								</strong>
							</h3>
							{{#if pollution}}
								<ul>
									{{#if pollution.NO}}
									<li>
										{{pollution.NO.parameter}} ({{pollution.NO.abrebiation}}):
										<br>
										<em>
											{{pollution.NO.technique}}
										</em>
									</li>
									{{/if}}
									{{#if pollution.NO2}}
									<li>
										{{pollution.NO2.parameter}} ({{pollution.NO2.abrebiation}}):
										<br>
										<em>
											{{pollution.NO2.technique}}
										</em>
									</li>
									{{/if}}
									{{#if pollution.NOX}}
									<li>
										{{pollution.NOX.parameter}} ({{pollution.NOX.abrebiation}}):
										<br>
										<em>
											{{pollution.NOX.technique}}
										</em>
									</li>
									{{/if}}
									{{#if pollution.O3}}
									<li>
										{{pollution.O3.parameter}} ({{pollution.O3.abrebiation}}):
										<br>
										<em>
											{{pollution.O3.technique}}
										</em>
									</li>
									{{/if}}
									{{#if pollution.S02}}
									<li>
										{{pollution.S02.parameter}} ({{pollution.S02.abrebiation}}):
										<br>
										<em>
											{{pollution.S02.technique}}
										</em>
									</li>
									{{/if}}
								</ul>
							{{else}}
								<p>
									No information available
								</p>
							{{/if}}
						</div>

						<div class="station-info__group">
							<h3>
								<strong>
									Acustic:
								</strong>
							</h3>

							{{#if acustic}}
								<ul>
								
									{{#if acustic.total}}
										<h4>
											Total
										</h4>
										<time>
											<em>
												({{acustic.total.date}})
											</em>
										</time>
										<ul>
											<li>LAEQ: {{acustic.total.LAEQ}}</li>
											<li>LA501: {{acustic.total.LA501}}</li>
											<li>LA510: {{acustic.total.LA510}}</li>
											<li>LA550: {{acustic.total.LA550}}</li>
											<li>L590: {{acustic.total.L590}}</li>
											<li>LA599: {{acustic.total.LA599}}</li>
										</ul>
									{{/if}}
								
									{{#if acustic.diurno}}
										<h4>
											Diurno
										</h4>
										<time>
											<em>
												({{acustic.diurno.date}})
											</em>
										</time>
										<ul>
											<li>LAEQ: {{acustic.diurno.LAEQ}}</li>
											<li>LA501: {{acustic.diurno.LA501}}</li>
											<li>LA510: {{acustic.diurno.LA510}}</li>
											<li>LA550: {{acustic.diurno.LA550}}</li>
											<li>L590: {{acustic.diurno.L590}}</li>
											<li>LA599: {{acustic.diurno.LA599}}</li>
										</ul>
									{{/if}}
								
									{{#if acustic.vespertino}}
										<h4>
											Vespertino
										</h4>
										<time>
											<em>
												({{acustic.vespertino.date}})
											</em>
										</time>
										<ul>
											<li>LAEQ: {{acustic.vespertino.LAEQ}}</li>
											<li>LA501: {{acustic.vespertino.LA501}}</li>
											<li>LA510: {{acustic.vespertino.LA510}}</li>
											<li>LA550: {{acustic.vespertino.LA550}}</li>
											<li>L590: {{acustic.vespertino.L590}}</li>
											<li>LA599: {{acustic.vespertino.LA599}}</li>
										</ul>
									{{/if}}
								
									{{#if acustic.nocturno}}
										<h4>
											Nocturno
										</h4>
										<time>
											<em>
												({{acustic.nocturno.date}})
											</em>
										</time>
										<ul>
											<li>LAEQ: {{acustic.nocturno.LAEQ}}</li>
											<li>LA501: {{acustic.nocturno.LA501}}</li>
											<li>LA510: {{acustic.nocturno.LA510}}</li>
											<li>LA550: {{acustic.nocturno.LA550}}</li>
											<li>L590: {{acustic.nocturno.L590}}</li>
											<li>LA599: {{acustic.nocturno.LA599}}</li>
										</ul>
									{{/if}}
								</ul>
							{{else}}
								<p>
									No information available
								</p>
							{{/if}}
						</div>
					</div>
				</article>
			</section>
		</script>

		<script id="error404" type="text/x-handlebars-template">
			<section class="page__section">
				<article class="page__article">
					<h2 class="page__subtitle">Error 404</h2>
					<img src="exercises-javascript-node/class-30/ejercicios/routing/images/{{{image}}}" alt="Image of error 404. Page not found" />
					<a class="button--back button" href="stations">Back to the list stations</a>
				</article>
			</section>	
		</script>
		<!-- TEMPLATES HANDLEBARS - end -->


		<script src="js/scripts.js"></script>
		<script src="js/app-templates.js"></script>
		<script src="js/app-routes.js"></script>
	</body>

</html>